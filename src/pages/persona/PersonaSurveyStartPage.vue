<template>
    <div class="card-recommendation-wrapper">
      <BackButton />
      <div class="slider-container">
          <div class="slider-track">
            <img
              v-for="(card, index) in [...cards, ...cards]"
              :key="index"
              :src="card"
              class="card-img"
            />
          </div>
        </div>
      <section class="main-section">
        <!-- ğŸ  ìºë¦­í„° ìŠ¬ë¼ì´ë” -->
      
  <br>
        <!-- í…ìŠ¤íŠ¸ & ë²„íŠ¼ -->
        <div class="text-box">
          <h2>ë‚˜ë§Œì˜ í˜ë¥´ì†Œë‚˜ í…ŒìŠ¤íŠ¸</h2>
          <p>í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë‚˜ì—ê²Œ ë§ëŠ” ê¸ˆìœµìƒí’ˆ ì¶”ì²œë°›ê¸°</p>
          <br>
          <button class="start-button" @click="goToTest">START</button>
          <!-- ê¸°ì¡´ START ë²„íŠ¼ ì•„ë˜ì— ì¶”ê°€í•˜ì„¸ìš” -->
<p class="note">â€» ì´ 10ë¬¸í•­ / ì†Œìš” ì‹œê°„ ì•½ 2ë¶„</p>
<br>
<div class="testimonial-wrapper">
  <div class="testimonial-box">
    <transition name="fade" mode="out-in">
      <div class="testimonial-content" :key="currentIndex">
        <div
          class="single-testimonial"
          v-for="(testimonial, index) in 3"
          :key="index"
        >
          <img :src="testimonials[(currentIndex + index) % testimonials.length].img" alt="ì‚¬ìš©ì ì‚¬ì§„" class="user-img" />
          <div class="text-content">
            <div class="user-name">{{ testimonials[(currentIndex + index) % testimonials.length].name }}</div>
            <div class="user-review">{{ testimonials[(currentIndex + index) % testimonials.length].text }}</div>
          </div>
        </div>
      </div>
    </transition>
  </div>
</div>

        </div>
      </section>
    </div>
  </template>
  
  <script setup>
  import { useRouter } from 'vue-router'
  import { ref, onMounted, onBeforeUnmount } from 'vue'
  import BackButton from '@/components/common/BackButton.vue'
  const cards = [
    new URL('@/assets/character_images/ant.png', import.meta.url).href,
    new URL('@/assets/character_images/cat.png', import.meta.url).href,
    new URL('@/assets/character_images/owl.png', import.meta.url).href,
    new URL('@/assets/character_images/penguin.png', import.meta.url).href,
    new URL('@/assets/character_images/rabbit.png', import.meta.url).href,
    new URL('@/assets/character_images/squirrel.png', import.meta.url).href,
    new URL('@/assets/character_images/tiger.png', import.meta.url).href,
    new URL('@/assets/character_images/turtle.png', import.meta.url).href,
  ]
  
  const router = useRouter()
  const goToTest = () => {
    router.push('/survey')
  }

const testimonials = [
  {
    name: 'ê¹€Oì§€',
    text: 'ì¹´ë“œ í˜œíƒì„ ëª°ëëŠ”ë°, ì´ê±¸ë¡œ ë°”ê¿¨ë”ë‹ˆ ìºì‹œë°±ì´ ì ì í•´ìš”!',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'ì´Oí˜„',
    text: 'ì €ì¶•ë§Œ í•˜ë˜ ì €ì—ê²Œ íˆ¬ìí˜• ì¹´ë“œë¥¼ ì¶”ì²œí•´ì¤˜ì„œ ìƒ‰ë‹¤ë¥´ê³  ì¢‹ì•„ìš”.',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'ë°•Oìš°',
    text: 'í˜ë¥´ì†Œë‚˜ ë™ë¬¼ì´ ë„ˆë¬´ ê·€ì—½ê³ , ê²°ê³¼ë„ ì •í™•í•´ì„œ ì‹ ë¢°ê°€ ê°”ì–´ìš”!',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'ì •Oë¦°',
    text: 'ì¹´ë“œ ë¹„êµë„ í•´ì£¼ê³  ì •ë¦¬ë„ ê¹”ë”í•´ì„œ ë³´ê¸° í¸í–ˆì–´ìš”.',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'ìµœOë¹ˆ',
    text: 'ì„¤ë¬¸ì´ ì¬ë°Œê³ , ê²°ê³¼ê°€ ìƒê°ë³´ë‹¤ ì •í™•í•´ì„œ ë†€ëì–´ìš”.',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'í™Oê¸°',
    text: 'ê¸ˆìœµìƒí’ˆì— ëŒ€í•œ ì„¤ëª…ì´ ì‰¬ì›Œì„œ ì´í•´í•˜ê¸° ì¢‹ì•˜ì–´ìš”.',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'ìœ¤Oì •',
    text: 'í˜ë¥´ì†Œë‚˜ ìœ í˜•ë³„ ì¶”ì²œì´ êµ¬ì²´ì ì´ì–´ì„œ ë°”ë¡œ ì ìš©í•´ë´¤ì–´ìš”.',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'ì„œOìœ¤',
    text: 'ê²°ê³¼ê°€ ë³´ê¸° ì‰½ê²Œ ì‹œê°í™”ë¼ ìˆì–´ì„œ ì¢‹ì•˜ì–´ìš”.',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'ì¥Oìˆ˜',
    text: 'ë‹¨ìˆœíˆ ì¹´ë“œë§Œ ë³´ì—¬ì£¼ëŠ” ê²Œ ì•„ë‹ˆë¼ ì„¤ëª…ì´ ì˜ ë˜ì–´ ìˆì–´ì„œ ë§Œì¡±!',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
  {
    name: 'ë°°Oì•„',
    text: 'ì˜ˆê¸ˆ ì¶”ì²œë„ í˜ë¥´ì†Œë‚˜ì— ë§ì¶° ë‚˜ì™€ì„œ ë¯¿ê³  ì°¸ê³ í–ˆì–´ìš”.',
    img: new URL('@/assets/user.png', import.meta.url).href,
  },
]

const currentIndex = ref(0)
let intervalId = null

onMounted(() => {
  intervalId = setInterval(() => {
    currentIndex.value = (currentIndex.value + 1) % testimonials.length
  }, 3000)
})

onBeforeUnmount(() => {
  clearInterval(intervalId)
})

const currentTestimonial = ref(0)


onMounted(() => {
  intervalId = setInterval(() => {
    currentTestimonial.value =
      (currentTestimonial.value + 1) % testimonials.length
  }, 3000)
})

onBeforeUnmount(() => {
  clearInterval(intervalId)
})
  </script>
  
  <style scoped>
  .card-recommendation-wrapper {
    font-family: 'Noto Sans KR', sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2rem 1rem;
  }
  
  .main-section {
    text-align: center;
    width: 100%;
    max-width: 1200px;
  }
  
  .slider-container {
    overflow: hidden;
    width: 100%;
    margin-bottom: 2rem;
  }
  
  .slider-track {
    display: flex;
    width: calc(250px * 16);
    animation: scroll 20s linear infinite;
    gap: 2rem;
  }
  
  .card-img {
  width: 160px;
  height: auto;
  border-radius: 12px;
  margin: 0 1rem;
  flex-shrink: 0;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card-img:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15); /* ğŸ’¡ hover ì‹œ ë” ê°•ì¡° */
}
  
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  .text-box h2 {
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
  }
  .text-box p {
    font-size: 1.1rem;
    color: #666;
    margin-bottom: 1.5rem;
  }
  
  .start-button {
    background: #9dc08b;
    color: white;
    padding: 1rem 2.8rem;
    font-size: 1.3rem;
    font-weight: bold;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    margin-right: 1rem;
  }
  
  .premium-button {
    background: linear-gradient(to right, #453222, #b27950);
    color: white;
    font-size: 0.95rem;
    padding: 0.9rem 2rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
  .note {
  color: #666;
  font-size: 0.95rem;
  margin-top: 1.2rem;
}
.testimonial-wrapper {
  display: flex;
  justify-content: center;
  padding: 2rem 1rem;
  background-color: #f9fafb;
  border-top: 1px solid #e0e0e0;
  margin-top: 2rem;
}

.testimonial-box {
  background: #fff;
  padding: 1rem;
  width: 100%;
  max-width: 1080px;
  border-radius: 16px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  overflow: hidden;
}

.testimonial-content {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 2rem;
  transition: transform 0.5s ease;
}

.single-testimonial {
  flex: 0 0 calc(33.333% - 2rem);
  display: flex;
  align-items: center;
  gap: 1rem;
  min-width: 280px;
}

.user-img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 50%;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

.text-content {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.user-name {
  font-weight: bold;
  font-size: 1rem;
  margin-bottom: 0.3rem;
  color: #333;
}

.user-review {
  font-size: 0.9rem;
  color: #555;
  line-height: 1.4;
}

/* í˜ì´ë“œ ì „í™˜ íš¨ê³¼ */
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.5s;
}
.fade-enter-from, .fade-leave-to {
  opacity: 0;
}


  </style>